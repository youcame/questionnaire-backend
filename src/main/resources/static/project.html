<!--该代码仅为示例代码，方便测试与完成任务，实际项目中使用的是react-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Project Management</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            getProjectList();
            function getProjectList() {
                var projectName = $('#projectName').val();
                var projectDescription = $('#projectDescription').val();
                $.ajax({
                    url: '/project/search',
                    type: 'GET',
                    data: {
                        projectName: projectName,
                        projectDescription: projectDescription
                    },
                    success: function(data) {
                        $('#projectList').empty();
                        for (var i = 0; i < data.length; i++) {
                            var project = data[i];
                            var row = '<tr>' +
                                '<td>' + project.id + '</td>' +
                                '<td>' + project.projectName + '</td>' +
                                '<td>' + project.projectDescription + '</td>' +
                                '<td>' +
                                '<button class="deleteBtn" data-id="' + project.id + '">删除</button>' +
                                '<button class="updateBtn" data-id="' + project.id + '">更新</button>' +
                                '</td>' +
                                '</tr>';
                            $('#projectList').append(row);
                        }
                    },
                    error: function(error) {
                        console.log(error);
                    }
                });
            }
            // 删除项目
            function deleteProject(id) {
                $.ajax({
                    url: '/project/delete',
                    type: 'POST',
                    data: JSON.stringify(id),
                    contentType: 'application/json',
                    success: function(data) {
                        // 删除成功后刷新项目列表
                        getProjectList();
                    },
                    error: function(error) {
                        console.log(error);
                    }
                });
            }
            // 更新项目
            function updateProject(id, projectName, projectDescription) {
                var project = {
                    id: id,
                    projectName: projectName,
                    projectDescription: projectDescription
                };
                $.ajax({
                    url: '/project/update',
                    type: 'POST',
                    data: JSON.stringify(project),
                    contentType: 'application/json',
                    success: function(data) {
                        // 更新成功后刷新项目列表
                        getProjectList();
                    },
                    error: function(error) {
                        console.log(error);
                    }
                });
            }
            // 创建项目
            function createProject(project) {
                $.ajax({
                    url: '/project/create',
                    type: 'POST',
                    data: JSON.stringify(project),
                    contentType: 'application/json',
                    success: function(data) {
                        // 创建成功后刷新项目列表
                        getProjectList();
                    },
                    error: function(error) {
                        console.log(error);
                    }
                });
            }
            // 监听搜索按钮点击事件
            $('#searchBtn').click(function() {
                getProjectList();
            });
            // 监听删除按钮点击事件
            $(document).on('click', '.deleteBtn', function() {
                var id = $(this).data('id');
                deleteProject(id);
            });
            // 监听更新按钮点击事件
            $(document).on('click', '.updateBtn', function() {
                var id = $(this).data('id');
                var projectName = prompt("请输入项目名称");
                var projectDescription = prompt("请输入项目描述");
                if (projectName !== null && projectDescription !== null) {
                    updateProject(id, projectName, projectDescription);
                }
            });
            // 监听创建按钮点击事件
            $('#createBtn').click(function() {
                var projectName = $('#newProjectName').val();
                var projectDescription = $('#newProjectDescription').val();
                var project = {
                    projectName: projectName,
                    projectDescription: projectDescription
                };
                createProject(project);
            });
        });
    </script>
</head>
<body>
<h1>项目管理</h1>
<form>
    <label for="projectName">项目名称:</label>
    <input type="text" id="projectName" name="projectName">

    <label for="projectDescription">项目描述:</label>
    <input type="text" id="projectDescription" name="projectDescription">

    <button type="button" id="searchBtn">搜索</button>
</form>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>项目名称</th>
        <th>项目描述</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody id="projectList">
    </tbody>
</table>

<h2>创建新项目</h2>
<form>
    <label for="newProjectName">项目名称:</label>
    <input type="text" id="newProjectName" name="newProjectName">

    <label for="newProjectDescription">项目描述:</label>
    <input type="text" id="newProjectDescription" name="newProjectDescription">

    <button type="button" id="createBtn">创建</button>
</form>
</body>
</html>
